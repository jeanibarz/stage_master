A=[2/5 0 0; 0 1/2 0; 0 0 9/10];
B=[1/2 1; 1 0; 1/10 1];
C=[1 1 0; 0 1 1];

C1=C(1,:);
C2=C(2,:);

H12=[C1; C1*A; C1*A^2];
H22=[C2; C2*A; C2*A^2];

% [[16 25]*inv([100 100; 40 50]) -1]
OMEGA1=[2 -9 10];
G1=[[0 0] [0 0] [0 0]; C1*B [0 0] [0 0]; C1*A*B C1*B [0 0]];
R1=[OMEGA1 -OMEGA1*G1] % [y1(k) y1(k+1) y1(k+2) u1(k) u2(k) u1(k+1) u2(k+1) u1(k+2) u2(k+2)]

OMEGA2=-20*[[0.25 0.81]*inv([1 1; 0.5 0.9]) -1];
G2=[[0 0] [0 0] [0 0]; C2*B [0 0] [0 0]; C2*A*B C2*B [0 0]];
R2=[OMEGA2 -OMEGA2*G2] % [y2(k) y2(k+1) y2(k+2) u1(k) u2(k) u1(k+1) u2(k+1) u1(k+2) u2(k+2)]

% inter-redondance
OMEGA=10*[[0 5 9]*inv([10 10 0; 4 5 0; 0 10 10]) -1]
H11=[H12(1:2,:); H22(1:2,:)]
G11=[[0 0] [0 0]; C1*B [0 0]; [0 0] [0 0]; C2*B [0 0]];
RI=[OMEGA -OMEGA*G11]; % [y1(k) y1(k+1) y2(k) y2(k+1) u1(k) u2(k) u1(k+1) u2(k+1)]